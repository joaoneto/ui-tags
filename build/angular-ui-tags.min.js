angular.module("ui.tags",[]).directive("uiTags",function(){return{restrict:"E",replace:!0,scope:{tags:"=",tagClasses:"@",tagInputClasses:"@",tagLightness:"@",tagInputLightness:"@"},link:function(a,b){var c=function(b){b&&(b=b.trim().replace(/\s+/," "),a.tags||(a.tags=[]),a.tags.push(b),a.new_tag="")};a.add=c,a.remove=function(b){a.tags.splice(b,1)},$("input",b).bind("keypress",function(b){if(13==b.keyCode){b.preventDefault();var d=this.value;a.$apply(function(){c(d)})}})},template:'<div><span class="{{tagClasses}}" ng-repeat="(i, tag) in tags">{{tag}}<a class="pull-right" ng-click="remove(i)"><i ng-class="{\'icon-remove\': true, \'icon-white\': tagLightness == \'white\'}"></i></a></span><span class="{{tagInputClasses}}"><input type="text" ng-model="new_tag" placeholder="New"><a class="pull-right" ng-click="add(new_tag)" ng-show="new_tag"><i ng-class="{\'icon-ok\': true, \'icon-white\': tagInputLightness == \'white\'}"></i></a></span></div>'}});